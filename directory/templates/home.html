{% extends "base.html" %}
{% load dict_extras %}

{% block extra_head %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Sauna Guide",
  "url": "https://saunaguide.ie",
  "description": "Find the best saunas in Ireland. Browse our comprehensive directory of sauna facilities, wellness centers, and spa experiences across Ireland.",
  "publisher": {
    "@type": "Organization",
    "name": "Sauna Guide",
    "url": "https://saunaguide.ie"
  },
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://saunaguide.ie/?city={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>
{% endblock %}

{% block content %}
<div class="mb-8">
    <h2 class="text-3xl sm:text-4xl font-bold text-slate-900 mb-2">Sauna Guide: Explore Saunas in Ireland</h2>
    <p class="text-lg text-slate-600">Find your perfect sauna experience with Sauna Guide's filters</p>
</div>

<div class="grid gap-6 lg:grid-cols-[300px_1fr]">
    <aside class="lg:sticky lg:top-24 h-fit">
        <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-lg">
            <h2 class="text-xl font-bold text-slate-900 mb-1">Filters</h2>
            <p class="text-sm text-slate-500 mb-4">Refine your search</p>
            <form
                class="flex flex-col h-[calc(100vh-10rem)]"
                hx-get="."
                hx-trigger="change delay:200ms"
                hx-target="#listing-results"
                hx-swap="innerHTML"
                hx-push-url="true"
                hx-indicator="#loading"
            >
                <div class="space-y-4 overflow-y-auto pr-2 pb-4">
                    {% for filter in filters %}
                        <div class="pb-3 border-b border-slate-100 last:border-0">
                            <label class="block text-sm font-semibold text-slate-700 mb-2">{{ filter.label }}</label>
                            {% if filter.type == "boolean" %}
                                <label class="flex items-center gap-3 cursor-pointer group">
                                    <input
                                        type="checkbox"
                                        name="{{ filter.key }}"
                                        value="true"
                                        class="h-5 w-5 rounded border-slate-300 text-primary focus:ring-primary focus:ring-2"
                                        {% if request.GET|dict_get:filter.key %}checked{% endif %}
                                    />
                                    <span class="text-sm text-slate-600 group-hover:text-slate-900 transition-colors">Available</span>
                                </label>
                            {% else %}
                                <select
                                    name="{{ filter.key }}"
                                    class="w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"
                                >
                                    <option value="">All Options</option>
                                    {% for choice in filter.choices %}
                                        <option value="{{ choice }}" {% if request.GET|dict_get:filter.key == choice %}selected{% endif %}>{{ choice }}</option>
                                    {% endfor %}
                                </select>
                            {% endif %}
                        </div>
                    {% endfor %}
                </div>
                <div class="pt-3">
                    <a href="." class="w-full inline-flex items-center justify-center gap-2 text-center rounded-lg bg-gradient-to-r from-primary to-secondary px-4 py-3 text-sm font-semibold text-white shadow-lg hover:shadow-xl transition-all hover:scale-[1.02]">
                        <span id="loading" class="htmx-indicator inline-block">‚è≥ </span>
                        Reset Filters
                    </a>
                </div>
            </form>
        </div>
    </aside>

    <section>
        <div id="listing-results">
            {% include "partials/listing_results.html" %}
        </div>
        
        <!-- SEO Content Section -->
        <div class="mt-12 space-y-8">
            <div class="rounded-2xl border border-slate-200 bg-white p-8 shadow-md">
                <h2 class="text-2xl font-bold text-slate-900 mb-4">Why Choose Sauna Guide?</h2>
                <p class="text-slate-700 leading-relaxed mb-4">
                    Sauna Guide is Ireland's most comprehensive directory of sauna facilities, wellness centers, and spa experiences. 
                    Whether you're looking for a traditional Finnish sauna, an infrared sauna, or a luxurious spa day, we help you 
                    discover the perfect sauna experience near you.
                </p>
                <p class="text-slate-700 leading-relaxed">
                    Browse verified listings across Dublin, Cork, Galway, and every county in Ireland. Filter by amenities, ratings, 
                    and location to find exactly what you're looking for.
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-md">
                    <h3 class="text-xl font-bold text-slate-900 mb-3">‚ú® Health Benefits of Saunas</h3>
                    <ul class="space-y-2 text-slate-700">
                        <li>‚Ä¢ Improved cardiovascular health and circulation</li>
                        <li>‚Ä¢ Stress relief and mental relaxation</li>
                        <li>‚Ä¢ Muscle recovery and pain relief</li>
                        <li>‚Ä¢ Enhanced skin health and detoxification</li>
                        <li>‚Ä¢ Better sleep quality</li>
                    </ul>
                </div>
                
                <div class="rounded-2xl border border-slate-200 bg-white p-6 shadow-md">
                    <h3 class="text-xl font-bold text-slate-900 mb-3">üîç How to Choose a Sauna</h3>
                    <ul class="space-y-2 text-slate-700">
                        <li>‚Ä¢ <strong>Type:</strong> Traditional, infrared, or steam room?</li>
                        <li>‚Ä¢ <strong>Location:</strong> Find saunas near you</li>
                        <li>‚Ä¢ <strong>Amenities:</strong> Cold plunge, outdoor space, private rooms</li>
                        <li>‚Ä¢ <strong>Reviews:</strong> Check ratings and user feedback</li>
                        <li>‚Ä¢ <strong>Price:</strong> Compare value across facilities</li>
                    </ul>
                </div>
            </div>
            
            <div class="rounded-2xl border border-slate-200 bg-white p-8 shadow-md">
                <h3 class="text-2xl font-bold text-slate-900 mb-4">Frequently Asked Questions</h3>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-slate-900 mb-2">How often should I use a sauna?</h4>
                        <p class="text-slate-700">Most health experts recommend 2-3 sauna sessions per week for optimal benefits. Always listen to your body and consult a healthcare provider if you have medical conditions.</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-slate-900 mb-2">What's the difference between traditional and infrared saunas?</h4>
                        <p class="text-slate-700">Traditional saunas heat the air around you (typically 70-100¬∞C), while infrared saunas use infrared light to heat your body directly at lower temperatures (45-60¬∞C). Both offer unique benefits.</p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-slate-900 mb-2">Are saunas safe for everyone?</h4>
                        <p class="text-slate-700">While saunas are generally safe, pregnant women, people with heart conditions, and those with certain medical conditions should consult their doctor before using a sauna.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}
